<!DOCTYPE html>
<html>
<head>
	<title>Ajax Type Ahead</title>
</head>
<body>
<input type="text" id="search" placeholder="city or state">
<div id="result"></div>
<script>
	let text = document.getElementById("search");
	let result = document.getElementById("result");
	let cities = [];

	const citiesList = "https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json";

	fetch(citiesList).then(function(response){
		return response.json();
	}).then(function(data){
		cities=data;
		console.log(cities);
	});

		function findCities() {
		console.log(text.value);
		let input = text.value.toLowerCase();
		let queryResult = cities.filter(function(el) {
			if(el.city.toLowerCase().match(input)) {
				let innerDiv = document.createElement('div');
				result.appendChild(innerDiv);
				innerDiv.innerHTML = el.city + " " + el.population;
				return true;
			}
		});
	}
	text.addEventListener("change", findCities);
	// text.addEventListener("keyup", findCities);
	//text.addEventListener("keyup", testLog);
</script>
</body>
</html>